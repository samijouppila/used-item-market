{
  "openapi": "3.0.0",
  "info": {
    "title": "Used Item Market API",
    "version": "1.0",
    "description": "API for a marketplace of used items",
    "contact": {
      "name": "-",
      "url": "-"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000/api"
    }
  ],
  "paths": {
    "/users": {
      "post": {
        "summary": "Register new user",
        "operationId": "post-users",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "string"
                    },
                    "birthDate": {
                      "type": "string"
                    },
                    "contactInformation": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "phoneNumber": {
                          "type": "string"
                        }
                      }
                    },
                    "_id": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "username": "mattimei",
                      "birthDate": "1999-02-20",
                      "contactInformation": {
                        "name": "Matti Meikäläinen",
                        "email": "matti.m@mail.com",
                        "phoneNumber": "+358 40 1234 567"
                      },
                      "_id": "5f79fcfb70f5de5ebcd9803e"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "description": "Endpoint for creating a new user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "birthDate": {
                    "type": "string",
                    "description": "ISO 8601"
                  },
                  "contactInformation": {
                    "type": "object",
                    "required": [
                      "name"
                    ],
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "email": {
                        "type": "string",
                        "description": "At least one of phone number or email is required"
                      },
                      "phoneNumber": {
                        "type": "string",
                        "description": "At least one of phone number or email is required"
                      }
                    }
                  }
                },
                "required": [
                  "username",
                  "password",
                  "birthDate",
                  "contactInformation"
                ]
              },
              "examples": {
                "example-1": {
                  "value": {
                    "username": "mattimei",
                    "password": "MKO098UHB",
                    "birthDate": "1999-02-20",
                    "contactInformation": {
                      "name": "Matti Meikäläinen",
                      "email": "matti.m@mail.com",
                      "phoneNumber": "+358 40 1234 567"
                    }
                  }
                }
              }
            },
            "application/xml": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            },
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            },
            "text/html": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            }
          },
          "description": "Request body model for creating a new user"
        },
        "tags": [
          "Users"
        ]
      }
    },
    "/users/{id}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "id",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Get selected user information",
        "tags": [
          "Users"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "string",
                      "minLength": 1
                    },
                    "birthDate": {
                      "type": "string",
                      "minLength": 1
                    },
                    "contactInformation": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "minLength": 1
                        },
                        "email": {
                          "type": "string",
                          "minLength": 1
                        },
                        "phoneNumber": {
                          "type": "string",
                          "minLength": 0
                        }
                      }
                    },
                    "_id": {
                      "type": "string",
                      "minLength": 0
                    }
                  }
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "username": "mattimei",
                      "birthDate": "1999-02-20",
                      "contactInformation": {
                        "name": "Matti Meikäläinen",
                        "email": "matti.m@mail.com",
                        "phoneNumber": "+358 40 1234 567"
                      },
                      "_id": "5f79fcfb70f5de5ebcd9803e"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "operationId": "get-users-id",
        "description": "Endpoint for user to get their own information",
        "parameters": [],
        "security": [
          {
            "User Authorization": []
          }
        ]
      },
      "put": {
        "summary": "Modify user's own information",
        "operationId": "put-users-id",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "string",
                      "minLength": 1
                    },
                    "birthDate": {
                      "type": "string",
                      "minLength": 1
                    },
                    "contactInformation": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "minLength": 1
                        },
                        "email": {
                          "type": "string",
                          "minLength": 1
                        },
                        "phoneNumber": {
                          "type": "string",
                          "minLength": 1
                        }
                      }
                    },
                    "_id": {
                      "type": "string",
                      "minLength": 1
                    }
                  }
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "username": "mattimei",
                      "birthDate": "1999-02-20",
                      "contactInformation": {
                        "name": "Matti Meikäläinen",
                        "email": "matti.m@mail.com",
                        "phoneNumber": "+358 40 1234 567"
                      },
                      "_id": "5f79fcfb70f5de5ebcd9803e"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "description": "Endpoint for user to modify their own information",
        "security": [
          {
            "User Authorization": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "password": {
                    "type": "string"
                  },
                  "birthDate": {
                    "type": "string",
                    "description": "ISO 8601"
                  },
                  "contactInformation": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "email": {
                        "type": "string"
                      },
                      "phoneNumber": {
                        "type": "string"
                      }
                    }
                  }
                }
              },
              "examples": {
                "example-1": {
                  "value": {
                    "password": "MKO098UHB",
                    "birthDate": "1999-02-20",
                    "contactInformation": {
                      "name": "Matti Meikäläinen",
                      "email": "matti.m@mail.com",
                      "phoneNumber": "+358 40 1234 567"
                    }
                  }
                }
              }
            }
          },
          "description": "Request body for modifying user data. All fields optional"
        },
        "tags": [
          "Users"
        ]
      },
      "delete": {
        "summary": "Delete user account",
        "operationId": "delete-users-id",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "string",
                      "minLength": 1
                    },
                    "password": {
                      "type": "string",
                      "minLength": 1
                    },
                    "birthDate": {
                      "type": "string",
                      "minLength": 1
                    },
                    "contactInformation": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "minLength": 1
                        },
                        "email": {
                          "type": "string",
                          "minLength": 1
                        },
                        "phoneNumber": {
                          "type": "string",
                          "minLength": 1
                        }
                      }
                    }
                  }
                },
                "examples": {}
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "description": "Endpoint for deleting selected user account",
        "security": [
          {
            "User Authorization": []
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/auth/login": {
      "get": {
        "summary": "Log in user",
        "tags": [
          "Auth"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "operationId": "get-auth-login",
        "security": [
          {
            "HTTPBasic for login": []
          }
        ],
        "description": "Endpoint for user to log in and obtain an authentication token"
      }
    },
    "/users/{id}/postings": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "id",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Get all user's postings",
        "operationId": "get-users-id-postings",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "postings": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "category": {
                            "type": "string"
                          },
                          "location": {
                            "type": "object",
                            "required": [
                              "country",
                              "city"
                            ],
                            "properties": {
                              "country": {
                                "type": "string"
                              },
                              "city": {
                                "type": "string"
                              },
                              "postalCode": {
                                "type": "string"
                              }
                            }
                          },
                          "askingPrice": {
                            "type": "number"
                          },
                          "deliveryTypes": {
                            "type": "object",
                            "required": [
                              "shipping",
                              "pickup"
                            ],
                            "properties": {
                              "shipping": {
                                "type": "boolean"
                              },
                              "pickup": {
                                "type": "boolean"
                              }
                            }
                          },
                          "seller": {
                            "type": "object",
                            "required": [
                              "contactInformation",
                              "_id"
                            ],
                            "properties": {
                              "contactInformation": {
                                "type": "object",
                                "required": [
                                  "name",
                                  "email",
                                  "phoneNumber"
                                ],
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "email": {
                                    "type": "string"
                                  },
                                  "phoneNumber": {
                                    "type": "string"
                                  }
                                }
                              },
                              "_id": {
                                "type": "string"
                              }
                            }
                          },
                          "images": {
                            "type": "array",
                            "uniqueItems": true,
                            "items": {
                              "type": "object",
                              "properties": {
                                "_id": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "_id"
                              ]
                            }
                          },
                          "slug": {
                            "type": "string"
                          },
                          "_id": {
                            "type": "string"
                          },
                          "createdAt": {
                            "type": "string"
                          },
                          "updatedAt": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "title",
                          "description",
                          "category",
                          "location",
                          "askingPrice",
                          "deliveryTypes",
                          "seller",
                          "slug",
                          "_id",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    }
                  },
                  "required": [
                    "postings"
                  ]
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "postings": [
                        {
                          "title": "Helkama Jopo",
                          "description": "Used blue bicycle in good condition",
                          "category": "cycling",
                          "location": {
                            "country": "FI",
                            "city": "Oulu",
                            "postalCode": "90570"
                          },
                          "askingPrice": 150,
                          "deliveryTypes": {
                            "shipping": true,
                            "pickup": true
                          },
                          "seller": {
                            "contactInformation": {
                              "name": "Matti Meikäläinen",
                              "email": "matti.m@mail.com",
                              "phoneNumber": "+358 40 1234 567"
                            },
                            "_id": "4f8313a89231d42189ac"
                          },
                          "images": [
                            {
                              "_id": "1d42189ac4f8313a8923"
                            }
                          ],
                          "slug": "helkama-jopo",
                          "_id": "9ac4f8313a89231d4218",
                          "createdAt": "2020-09-21T17:32:28Z",
                          "updatedAt": "2020-09-21T17:32:28Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "description": "Endpoint for an user to fetch all their own postings",
        "security": [
          {
            "User Authorization": []
          }
        ],
        "tags": [
          "Users"
        ]
      }
    },
    "/postings": {
      "post": {
        "summary": "Create a posting",
        "operationId": "post-postings",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "title": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "category": {
                      "type": "string"
                    },
                    "location": {
                      "type": "object",
                      "properties": {
                        "country": {
                          "type": "string",
                          "description": "ISO 3166"
                        },
                        "city": {
                          "type": "string"
                        },
                        "postalCode": {
                          "type": "string"
                        }
                      }
                    },
                    "askingPrice": {
                      "type": "number"
                    },
                    "deliveryTypes": {
                      "type": "object",
                      "properties": {
                        "shipping": {
                          "type": "boolean"
                        },
                        "pickup": {
                          "type": "boolean"
                        }
                      }
                    },
                    "seller": {
                      "type": "object",
                      "properties": {
                        "contactInformation": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "phoneNumber": {
                              "type": "string"
                            }
                          }
                        },
                        "_id": {
                          "type": "string"
                        }
                      }
                    },
                    "images": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "slug": {
                      "type": "string"
                    },
                    "_id": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "title": "Helkama Jopo",
                      "description": "Used blue bicycle in good condition",
                      "category": "cycling",
                      "location": {
                        "country": "FI",
                        "city": "Oulu",
                        "postalCode": "90570"
                      },
                      "askingPrice": 150,
                      "deliveryTypes": {
                        "shipping": true,
                        "pickup": true
                      },
                      "seller": {
                        "contactInformation": {
                          "name": "Matti Meikäläinen",
                          "email": "matti.m@mail.com",
                          "phoneNumber": "+358 40 1234 567"
                        },
                        "_id": "4f8313a89231d42189ac"
                      },
                      "images": [],
                      "slug": "helkama-jopo",
                      "_id": "9ac4f8313a89231d4218",
                      "createdAt": "2020-09-21T17:32:28Z",
                      "updatedAt": "2020-09-21T17:32:28Z"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "description": "Endpoint for an user to create a new posting",
        "security": [
          {
            "User Authorization": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string"
                  },
                  "location": {
                    "type": "object",
                    "required": [
                      "country",
                      "city"
                    ],
                    "properties": {
                      "country": {
                        "type": "string",
                        "description": "ISO 3166"
                      },
                      "city": {
                        "type": "string"
                      },
                      "postalCode": {
                        "type": "string"
                      }
                    }
                  },
                  "askingPrice": {
                    "type": "number"
                  },
                  "deliveryTypes": {
                    "type": "object",
                    "required": [
                      "shipping",
                      "pickup"
                    ],
                    "description": "One or more of delivery types has to be true",
                    "properties": {
                      "shipping": {
                        "type": "boolean"
                      },
                      "pickup": {
                        "type": "boolean"
                      }
                    }
                  }
                },
                "required": [
                  "title",
                  "description",
                  "category",
                  "location",
                  "askingPrice",
                  "deliveryTypes"
                ]
              },
              "examples": {
                "example-1": {
                  "value": {
                    "title": "Helkama Jopo",
                    "description": "Used blue bicycle in good condition",
                    "category": "cycling",
                    "location": {
                      "country": "FI",
                      "city": "Oulu",
                      "postalCode": "90570"
                    },
                    "askingPrice": 150,
                    "deliveryTypes": {
                      "shipping": true,
                      "pickup": true
                    }
                  }
                }
              }
            }
          },
          "description": "Request body model for creating a new posting"
        },
        "tags": [
          "Postings"
        ]
      }
    },
    "/postings/{slug}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "slug",
          "in": "path",
          "required": true
        }
      ],
      "put": {
        "summary": "Modify a posting",
        "operationId": "put-postings-slug",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "title": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "category": {
                      "type": "string"
                    },
                    "location": {
                      "type": "object",
                      "properties": {
                        "country": {
                          "type": "string",
                          "description": "ISO 3166"
                        },
                        "city": {
                          "type": "string"
                        },
                        "postalCode": {
                          "type": "string"
                        }
                      }
                    },
                    "askingPrice": {
                      "type": "number"
                    },
                    "deliveryTypes": {
                      "type": "object",
                      "properties": {
                        "shipping": {
                          "type": "boolean"
                        },
                        "pickup": {
                          "type": "boolean"
                        }
                      }
                    },
                    "seller": {
                      "type": "object",
                      "properties": {
                        "contactInformation": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "phoneNumber": {
                              "type": "string"
                            }
                          }
                        },
                        "_id": {
                          "type": "string"
                        }
                      }
                    },
                    "images": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "slug": {
                      "type": "string"
                    },
                    "_id": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "example-1": {
                    "value": {
                      "title": "Helkama Jopo",
                      "description": "Used blue bicycle in good condition",
                      "category": "cycling",
                      "location": {
                        "country": "FI",
                        "city": "Oulu",
                        "postalCode": "90570"
                      },
                      "askingPrice": 150,
                      "deliveryTypes": {
                        "shipping": true,
                        "pickup": true
                      },
                      "seller": {
                        "contactInformation": {
                          "name": "Matti Meikäläinen",
                          "email": "matti.m@mail.com",
                          "phoneNumber": "+358 40 1234 567"
                        },
                        "_id": "4f8313a89231d42189ac"
                      },
                      "images": [],
                      "slug": "helkama-jopo",
                      "_id": "9ac4f8313a89231d4218",
                      "createdAt": "2020-09-21T17:32:28Z",
                      "updatedAt": "2020-09-21T17:32:28Z"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "description": "Endpoint for an user to modify an existing posting",
        "security": [
          {
            "User Authorization": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string"
                  },
                  "location": {
                    "type": "object",
                    "properties": {
                      "country": {
                        "type": "string",
                        "description": "ISO 3166"
                      },
                      "city": {
                        "type": "string"
                      },
                      "postalCode": {
                        "type": "string"
                      }
                    }
                  },
                  "askingPrice": {
                    "type": "number"
                  },
                  "deliveryTypes": {
                    "type": "object",
                    "description": "One or more of delivery types has to be true",
                    "properties": {
                      "shipping": {
                        "type": "boolean"
                      },
                      "pickup": {
                        "type": "boolean"
                      }
                    }
                  }
                }
              },
              "examples": {
                "example-1": {
                  "value": {
                    "title": "Helkama Jopo",
                    "description": "Used blue bicycle in good condition",
                    "category": "cycling",
                    "location": {
                      "country": "FI",
                      "city": "Oulu",
                      "postalCode": "90570"
                    },
                    "askingPrice": 150,
                    "deliveryTypes": {
                      "shipping": true,
                      "pickup": true
                    }
                  }
                }
              }
            }
          },
          "description": "Request body format for modifying a posting. All fields optional"
        },
        "tags": [
          "Postings"
        ]
      },
      "delete": {
        "summary": "Delete a posting",
        "operationId": "delete-postings-slug",
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "User Authorization": []
          }
        ],
        "description": "Endpoint for an user to delete an existing posting",
        "tags": [
          "Postings"
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "User": {
        "title": "User",
        "type": "object",
        "description": "User model",
        "x-examples": {
          "example-1": {
            "username": "mattimei",
            "password": "MKO098UHB",
            "birthDate": "1999-02-20",
            "contactInformation": {
              "name": "Matti Meikäläinen",
              "email": "matti.m@mail.com",
              "phoneNumber": "+358 40 1234 567"
            },
            "_id": "4f8313a89231d42189ac"
          }
        },
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "birthDate": {
            "type": "string",
            "description": "ISO 8601"
          },
          "contactInformation": {
            "type": "object",
            "required": [
              "name"
            ],
            "properties": {
              "name": {
                "type": "string"
              },
              "email": {
                "type": "string",
                "description": "At least one of phone number or email is required"
              },
              "phoneNumber": {
                "type": "string",
                "description": "At least one of phone number or email is required"
              }
            }
          },
          "_id": {
            "type": "string",
            "description": "Generated by MongoDB"
          }
        },
        "required": [
          "username",
          "password",
          "birthDate",
          "contactInformation",
          "_id"
        ]
      },
      "ErrorResponse": {
        "title": "ErrorResponse",
        "type": "object",
        "properties": {
          "errorDescription": {
            "type": "string"
          }
        },
        "description": "Error response object model",
        "x-examples": {
          "example-1": {
            "errorDescription": "Request failed due to unknown error"
          }
        }
      },
      "Image": {
        "title": "Image",
        "type": "object",
        "description": "",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Generated by MongoDB"
          },
          "image": {
            "type": "string",
            "description": "Image is stored as a string buffer in MongoDB"
          }
        },
        "required": [
          "_id",
          "image"
        ]
      },
      "Posting": {
        "title": "Posting",
        "type": "object",
        "x-examples": {
          "example-1": {
            "title": "Helkama Jopo",
            "description": "Used blue bicycle in good condition",
            "category": "cycling",
            "location": {
              "country": "FI",
              "city": "Oulu",
              "postalCode": "90570"
            },
            "askingPrice": 150,
            "deliveryTypes": {
              "shipping": true,
              "pickup": true
            },
            "seller": {
              "contactInformation": {
                "name": "Matti Meikäläinen",
                "email": "matti.m@mail.com",
                "phoneNumber": "+358 40 1234 567"
              },
              "_id": "4f8313a89231d42189ac"
            },
            "images": [
              {
                "_id": "1d42189ac4f8313a8923"
              }
            ],
            "slug": "helkama-jopo",
            "_id": "9ac4f8313a89231d4218",
            "createdAt": "2020-09-21T17:32:28Z",
            "updatedAt": "2020-09-21T17:32:28Z"
          }
        },
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "location": {
            "type": "object",
            "required": [
              "country",
              "city"
            ],
            "properties": {
              "country": {
                "type": "string",
                "description": "ISO 3166"
              },
              "city": {
                "type": "string"
              },
              "postalCode": {
                "type": "string"
              }
            }
          },
          "askingPrice": {
            "type": "number"
          },
          "deliveryTypes": {
            "type": "object",
            "required": [
              "shipping",
              "pickup"
            ],
            "properties": {
              "shipping": {
                "type": "boolean"
              },
              "pickup": {
                "type": "boolean"
              }
            }
          },
          "seller": {
            "$ref": "#/components/schemas/User"
          },
          "images": {
            "type": "array",
            "description": "Has list of ids that can be used to separately fetch images from different endpoint",
            "items": {
              "$ref": "#/components/schemas/Image"
            }
          },
          "slug": {
            "type": "string",
            "description": "Automatically generated from title"
          },
          "_id": {
            "type": "string",
            "description": "Generated by MongoDB"
          },
          "createdAt": {
            "type": "string"
          },
          "updatedAt": {
            "type": "string"
          }
        },
        "required": [
          "title",
          "description",
          "category",
          "location",
          "askingPrice",
          "deliveryTypes",
          "seller",
          "slug",
          "_id",
          "createdAt",
          "updatedAt"
        ]
      }
    },
    "securitySchemes": {
      "HTTPBasic for login": {
        "type": "http",
        "scheme": "basic",
        "description": "HTTPBasic with username and password"
      },
      "User Authorization": {
        "type": "http",
        "scheme": "bearer",
        "description": "Token gained from login route"
      }
    }
  },
  "tags": [
    {
      "name": "Auth"
    },
    {
      "name": "Users"
    },
    {
      "name": "Postings"
    }
  ]
}